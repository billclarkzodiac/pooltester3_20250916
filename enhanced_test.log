2025/09/30 14:20:01 === NgaSim Pool Controller Simulator ===
2025/09/30 14:20:02 Device logger initialized - commands will be logged to device_commands.log
2025/09/30 14:20:02 Starting NgaSim v2.1.1
2025/09/30 14:20:02 Connecting to MQTT broker...
2025/09/30 14:20:02 MQTT connected successfully - waiting for device announcements...
2025/09/30 14:20:02 Starting C poller subprocess...
2025/09/30 14:20:02 Connected to MQTT broker at tcp://169.254.1.1:1883
2025/09/30 14:20:02 MQTT connection lost: EOF
2025/09/30 14:20:02 Failed to subscribe to topic async/+/+/anc: connection lost before Subscribe completed
2025/09/30 14:20:02 Failed to subscribe to topic async/+/+/dt: not currently connected and ResumeSubs not set
2025/09/30 14:20:02 Failed to subscribe to topic async/+/+/sts: not currently connected and ResumeSubs not set
2025/09/30 14:20:02 Failed to subscribe to topic async/+/+/error: not currently connected and ResumeSubs not set
2025/09/30 14:20:02 Connected to MQTT broker at tcp://169.254.1.1:1883
2025/09/30 14:20:02 Subscribed to topic: async/+/+/anc
2025/09/30 14:20:02 Subscribed to topic: async/+/+/dt
2025/09/30 14:20:02 Subscribed to topic: async/+/+/sts
2025/09/30 14:20:02 Subscribed to topic: async/+/+/error
2025/09/30 14:20:02 Started C poller with PID: 109929
2025/09/30 14:20:02 NgaSim started successfully!
2025/09/30 14:20:02 Visit http://localhost:8082 to view the web interface
2025/09/30 14:20:02 Web server starting on :8082
2025/09/30 14:20:02 Server error: listen tcp :8082: bind: address already in use
2025/09/30 14:20:03 MQTT connection lost: EOF
2025/09/30 14:20:04 Connected to MQTT broker at tcp://169.254.1.1:1883
2025/09/30 14:20:04 Subscribed to topic: async/+/+/anc
2025/09/30 14:20:04 Subscribed to topic: async/+/+/dt
2025/09/30 14:20:04 Subscribed to topic: async/+/+/sts
2025/09/30 14:20:04 Subscribed to topic: async/+/+/error
2025/09/30 14:20:06 MQTT connection lost: EOF
2025/09/30 14:20:08 Connected to MQTT broker at tcp://169.254.1.1:1883
2025/09/30 14:20:08 Subscribed to topic: async/+/+/anc
2025/09/30 14:20:08 Subscribed to topic: async/+/+/dt
2025/09/30 14:20:08 Subscribed to topic: async/+/+/sts
2025/09/30 14:20:08 Subscribed to topic: async/+/+/error
2025/09/30 14:20:12 MQTT connection lost: EOF
2025/09/30 14:20:16 Connected to MQTT broker at tcp://169.254.1.1:1883
2025/09/30 14:20:16 Subscribed to topic: async/+/+/anc
2025/09/30 14:20:16 Subscribed to topic: async/+/+/dt
2025/09/30 14:20:16 Subscribed to topic: async/+/+/sts
2025/09/30 14:20:16 Subscribed to topic: async/+/+/error
2025/09/30 14:20:17 Received MQTT message on topic: async/sanitizerGen2/1234567890ABCDEF00/dt
2025/09/30 14:20:17 Payload:  [(Â0Îèˇˇˇˇˇˇˇ8t@
2025/09/30 14:20:17 Device telemetry from 1234567890ABCDEF00 (category: sanitizerGen2): 20 bytes
2025/09/30 14:20:17 === Sanitizer Telemetry (Protobuf) ===
2025/09/30 14:20:17 rssi: 0 dBm
2025/09/30 14:20:17 ppm_salt: 0 ppm
2025/09/30 14:20:17 percentage_output: 0%
2025/09/30 14:20:17 accelerometer: x=91, y=229, z=-14357
2025/09/30 14:20:17 line_input_voltage: 116 V
2025/09/30 14:20:17 is_cell_flow_reversed: true
2025/09/30 14:20:17 ========================================
2025/09/30 14:20:17 Received telemetry for unknown device: 1234567890ABCDEF00
2025/09/30 14:20:24 MQTT connection lost: EOF
2025/09/30 14:20:24 Connected to MQTT broker at tcp://169.254.1.1:1883
2025/09/30 14:20:24 Subscribed to topic: async/+/+/anc
2025/09/30 14:20:24 Subscribed to topic: async/+/+/dt
2025/09/30 14:20:24 Subscribed to topic: async/+/+/sts
2025/09/30 14:20:24 Subscribed to topic: async/+/+/error
2025/09/30 14:20:30 Received MQTT message on topic: async/sanitizerGen2/1234567890ABCDEF00/anc
2025/09/30 14:20:30 Payload: 
EDGE-SWC-IM1234567890ABCDEF00sanitizerGen2"sanitizer-gen2*1.021.0.1:0.0.1BJ0
2025/09/30 14:20:30 Device announce from 1234567890ABCDEF00 (category: sanitizerGen2): 93 bytes
2025/09/30 14:20:30 === Device Announcement (Protobuf) ===
2025/09/30 14:20:30 product_name: EDGE-SWC-IM
2025/09/30 14:20:30 serial_number: 1234567890ABCDEF00
2025/09/30 14:20:30 category: sanitizerGen2
2025/09/30 14:20:30 model_id: sanitizer-gen2
2025/09/30 14:20:30 model_version: 1.0
2025/09/30 14:20:30 firmware_version: 1.0.1
2025/09/30 14:20:30 ota_version: 0.0.1
2025/09/30 14:20:30 available_bus_types: [BUS_TYPE_SLIP]
2025/09/30 14:20:30 active_bus: bus_type:BUS_TYPE_SLIP ip_address:"0"
2025/09/30 14:20:30 ===========================================
2025/09/30 14:20:30 New device discovered via protobuf: 1234567890ABCDEF00
2025/09/30 14:20:30 Device 1234567890ABCDEF00 fully updated: ProductName='EDGE-SWC-IM', Category='sanitizerGen2', Model='sanitizer-gen2', FirmwareVer='1.0.1'
2025/09/30 14:20:33 Received MQTT message on topic: async/sanitizerGen2/1234567890ABCDEF00/dt
2025/09/30 14:20:33 Payload:  à(Ø0”èˇˇˇˇˇˇˇ8t@
2025/09/30 14:20:33 Device telemetry from 1234567890ABCDEF00 (category: sanitizerGen2): 21 bytes
2025/09/30 14:20:33 === Sanitizer Telemetry (Protobuf) ===
2025/09/30 14:20:33 rssi: 0 dBm
2025/09/30 14:20:33 ppm_salt: 0 ppm
2025/09/30 14:20:33 percentage_output: 0%
2025/09/30 14:20:33 accelerometer: x=136, y=175, z=-14381
2025/09/30 14:20:33 line_input_voltage: 116 V
2025/09/30 14:20:33 is_cell_flow_reversed: true
2025/09/30 14:20:33 ========================================
2025/09/30 14:20:33 Updated sanitizer telemetry for device 1234567890ABCDEF00: Salt=0ppm, Output=0%, RSSI=0dBm
2025/09/30 14:20:40 MQTT connection lost: EOF
2025/09/30 14:20:40 Connected to MQTT broker at tcp://169.254.1.1:1883
2025/09/30 14:20:40 Subscribed to topic: async/+/+/anc
2025/09/30 14:20:40 Subscribed to topic: async/+/+/dt
2025/09/30 14:20:40 Subscribed to topic: async/+/+/sts
2025/09/30 14:20:40 Subscribed to topic: async/+/+/error
